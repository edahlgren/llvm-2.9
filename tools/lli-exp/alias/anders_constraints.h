class AndersConstraints {
};

// You need to also declare helper methods for get_module_anders_constraints.

template<typename FunctionIterator>
AndersConstraints *build_anders_constraints(const FunctionIterator &fi) {
  // ... and use them in here ...  
}
